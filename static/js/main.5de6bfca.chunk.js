(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1mtJS",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1W4y4"}},14:function(e,a,t){e.exports={modalWrapper:"Modal_modalWrapper__2z5Ib",modalImg:"Modal_modalImg__3mtCK",modalShow:"Modal_modalShow__2FewY"}},15:function(e,a,t){e.exports={App:"App_App__2htTF",Loader:"App_Loader__-1_A5"}},26:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__1qOYe"}},28:function(e,a,t){e.exports={searchMore:"Button_searchMore__3phEC"}},72:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(0),o=t.n(n),c=t(25),l=t.n(c),s=t(10),i=t(8),h=t(4),u=t(5),m=t(7),d=t(6),p=t(12),b=t.n(p),g=t(9),j=t.n(g),y=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={value:""},e.formControl=function(a){e.setState({value:a.target.value})},e}return Object(u.a)(t,[{key:"render",value:function(){return Object(r.jsx)("header",{className:j.a.Searchbar,children:Object(r.jsxs)("form",{className:j.a.SearchForm,onSubmit:this.props.search,children:[Object(r.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(r.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchImage",value:this.state.value,onChange:this.formControl})]})})}}]),t}(n.Component),f=t(26),O=t.n(f);var _=function(e){var a=e.children,t=e.modalOpen;return Object(r.jsx)("ul",{className:O.a.ImageGallery,onClick:t,children:a})},v=t(27),S=t.n(v),I=t(13),x=t.n(I);var w=function(e){var a=e.galleryArray.map((function(e){return Object(r.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:e.webformatURL,alt:e.tags,"data-large":e.largeImageURL,className:x.a.ImageGalleryItemImage})},S()())}));return Object(r.jsx)(n.Fragment,{children:a})},A=t(28),M=t.n(A),k=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={},e.searchMore=function(a){return e.props.searchMore(a,!0)},e}return Object(u.a)(t,[{key:"render",value:function(){return Object(r.jsx)("button",{onClick:this.searchMore,className:M.a.searchMore,children:"\u0445\u043e\u0447\u0443 \u0431\u0456\u043b\u044c\u0448\u0435 \u0444\u043e\u0442\u043e!"})}}]),t}(n.Component),F=t(14),C=t.n(F),N=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={},e.handleKeyDown=function(a){"Escape"===a.code&&e.props.closeModal()},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.jsx)("div",{className:C.a.modalWrapper,onClick:this.props.closeModal,children:Object(r.jsx)("img",{className:C.a.modalImg,src:this.props.modalData,alt:""})})}}]),t}(n.Component),G=t(29),D=t.n(G),L={URI:"https://pixabay.com/api/",key:"18979440-a7a6e8d5b4453f8671b44f46a"},B=t(15),E=t.n(B),U=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={value:"",page:1,galleryArray:[],isModalShow:!1,modalData:"",loader:{visible:!1,type:"Oval",color:"#3f51b5",height:50,width:50}},e.search=function(a,t){if(a.preventDefault(),e.setState((function(e){return{loader:Object(i.a)(Object(i.a)({},e.loader),{},{visible:!0})}})),t)b.a.get("".concat(L.URI,"?key=").concat(L.key,"&q=").concat(e.state.value,"&page=").concat(e.state.page+1,"&per_page=12&image_type=photo&orientation=horizontal")).then((function(a){e.setState((function(e){return{page:++e.page,galleryArray:[].concat(Object(s.a)(e.galleryArray),Object(s.a)(a.data.hits))}}))})).then((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).then((function(){e.setState((function(e){return{loader:Object(i.a)(Object(i.a)({},e.loader),{},{visible:!1})}}))}));else{e.setState((function(e){return{galleryArray:[]}}));var r=a.target.searchImage.value;b.a.get("".concat(L.URI,"?key=").concat(L.key,"&q=").concat(r,"&page=").concat(e.state.page,"&per_page=12&image_type=photo&orientation=horizontal")).then((function(t){e.setState((function(e){return{page:1,value:a.target.searchImage.value,galleryArray:Object(s.a)(t.data.hits)}}))})).then((function(){e.setState((function(e){return{loader:Object(i.a)(Object(i.a)({},e.loader),{},{visible:!1})}}))}))}},e.modalOpen=function(a){"IMG"===a.target.nodeName&&e.setState((function(e){return{isModalShow:!0,modalData:a.target.dataset.large}}))},e.modalClose=function(){e.setState((function(e){return{isModalShow:!1,modalData:""}}))},e}return Object(u.a)(t,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:E.a.App,children:[Object(r.jsx)(y,{search:this.search}),Object(r.jsx)(_,{modalOpen:this.modalOpen,children:this.state.galleryArray.length?Object(r.jsx)(w,{galleryArray:this.state.galleryArray}):""}),Object(r.jsx)(D.a,Object(i.a)({className:E.a.Loader},this.state.loader)),this.state.galleryArray.length?Object(r.jsx)(k,{searchMore:this.search}):"",this.state.isModalShow?Object(r.jsx)(N,{modalData:this.state.modalData,closeModal:this.modalClose}):""]})}}]),t}(n.Component);t(72);l.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(U,{})}),document.getElementById("root"))},9:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__3yCdN",SearchForm:"Searchbar_SearchForm__3W9bf",SearchFormButton:"Searchbar_SearchFormButton__1BSkI",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3nPA3",SearchFormInput:"Searchbar_SearchFormInput__3muFo"}}},[[73,1,2]]]);
//# sourceMappingURL=main.5de6bfca.chunk.js.map